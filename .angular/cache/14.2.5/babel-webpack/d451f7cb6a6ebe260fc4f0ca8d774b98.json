{"ast":null,"code":"import { isNodeJSEnv } from './is-nodejs-env';\n\nif (isNodeJSEnv && !global.PerformanceObserver && !global.performance && module && typeof module.require === 'function') {\n  /**\n   * Requires a module which is protected against bundler minification.\n   *\n   * @param pkg The module path to resolve\n   */\n  const dynamicRequire = (mod, pkg) => {\n    return mod.require(pkg);\n  };\n\n  try {\n    // eslint-disable-next-line @typescript-eslint/no-var-requires\n    const {\n      PerformanceObserver,\n      performance\n    } = dynamicRequire(module, 'perf_hooks');\n    global.PerformanceObserver = PerformanceObserver;\n    global.performance = performance;\n  } catch (error) {\n    throw new Error(`Your NodeJS application doesn't support 'perf_hooks'. ${error}`);\n  }\n}","map":null,"metadata":{},"sourceType":"module"}